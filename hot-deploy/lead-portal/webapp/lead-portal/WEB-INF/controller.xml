<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!-- The controller elements that are common to all OFBiz components
         can be found in the following xml file. A component can override the
         elements found in the common-controller.xml file. -->
         
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>
    <include location="component://common/webcommon/WEB-INF/security-controller.xml"/>
	<include location="component://admin-portal/webapp/admin-portal/WEB-INF/controller.xml"/>

    <description>lead-portal Component Site Configuration File</description>
    
    <handler name="ftl" type="view" class="org.ofbiz.webapp.ftl.FreeMarkerViewHandler"/>
    <handler name="service-multi" type="request" class="org.ofbiz.webapp.event.ServiceMultiEventHandler"/>
    <handler name="groovy" type="request" class="org.ofbiz.webapp.event.GroovyEventHandler"/>
	   
    <!-- Events to run on every request before security (chains exempt) -->
    <!--
    <preprocessor>
    </preprocessor>
    -->
    <!-- Events to run on every request after all other processing (chains exempt) -->
    <!--
    <postprocessor>
        <event name="test" type="java" path="org.ofbiz.webapp.event.TestEvent" invoke="test"/>
    </postprocessor>
    -->
    <!-- Events to run on every request before security (chains exempt) -->
    <!-- <preprocessor>
        Events to run on every request before security (chains exempt)
        <event type="java" path="org.ofbiz.webapp.control.LoginWorker" invoke="checkExternalLoginKey"/>
    </preprocessor> -->
	
    <!-- Request Mappings -->
    <request-map uri="main"><security https="true" auth="true"/><response name="success" type="view" value="main"/></request-map>
    
    <request-map uri="donePageRequestHelper">
		<security https="true" auth="true" />
		<event type="java" path="org.groupfio.common.portal.util.UtilCommon"
			invoke="donePageRequestHelper" />
		<response name="viewContact" type="request-redirect" value="viewContact">
			<redirect-parameter name="partyId" />
	    </response>
	   <response name="viewAccount" type="request-redirect" value="viewAccount">
			<redirect-parameter name="partyId" />
	    </response>
	   <response name="viewLead" type="request-redirect" value="viewLead">
			<redirect-parameter name="partyId" />
	    </response>
	    <response name="/lead-portal/control/viewLead" type="request-redirect" value="viewLead">
			<redirect-parameter name="partyId" />
	    </response>
	   <response name="viewCustomer" type="request-redirect" value="viewCustomer">
			<redirect-parameter name="partyId" />
	    </response>  
	</request-map>
    
    <!-- lead [start] -->
    
    <request-map uri="homeLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="HomeLead"/>
    </request-map>
    
    <request-map uri="findLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="findLead"/>
    </request-map>
    <request-map uri="searchLeads">
        <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.AjaxEvents" invoke="searchLeads"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="getLeadDashboardCountList">
        <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.AjaxEvents" invoke="getLeadDashboardCountList"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
    
    <request-map uri="viewLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="viewLead"/>
    </request-map>
    
    <request-map uri="createLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="createLead"/>
    </request-map>
    <request-map uri="createLeadAction">
        <security https="false" auth="true"/>
        <event type="service"  invoke="ledportal.createLead"/>        
        <response name="success" type="request-redirect" value="viewLead">
        	<redirect-parameter name="partyId"/>
        </response>
        <response name="error" type="request-redirect-noparam" value="createLead">
        </response>
    </request-map>
    
    <request-map uri="updateLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="updateLead"/>
    </request-map>
    <request-map uri="updateLeadAction">
        <security https="false" auth="true"/>
        <event type="service"  invoke="ledportal.updateLead"/>        
        <response name="success" type="request-redirect" value="viewLead">
        	<redirect-parameter name="partyId"/>
        </response>
        <response name="error" type="request-redirect" value="updateLead">
        	<redirect-parameter name="partyId"/>
        </response>
    </request-map>
    <request-map uri="deactivateLead">
		<security https="true" auth="true"/>
		<event type="service" invoke="crmsfa.deactivateAccount"/>
		<response name="success" type="request-redirect" value="findLead">
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="view" value="viewLead"/>
	</request-map>
	<!-- added for merge lead -->
	<request-map uri="mergeLead">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="mergeLeadForm"/>
    </request-map>
    <request-map uri="mergeLeadAction">
		<security https="true" auth="true"/>
		<event type="service" invoke="common.mergeParty"/>
		<response name="success" type="request-redirect" value="viewLead">
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="view" value="mergeLeadForm"/>
	</request-map>
    <!-- ended -->
	<request-map uri="addMarketingCampaign">
		<security https="true" auth="true"/>
		<event type="service" invoke="crmsfa.addMarketingCampaign"/>
		<response name="success" type="request-redirect" value="updateLead">
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="view" value="updateLead"/>
	</request-map>
	<request-map uri="removeMarketingCampaign">
		<security https="true" auth="true"/>
		<event type="service" invoke="crmsfa.removeMarketingCampaign"/>
		<response name="success" type="request-redirect" value="updateLead">
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="view" value="updateLead"/>
	</request-map>
	<request-map uri="addAccountDataSource">
		<security https="true" auth="true"/>
		<event type="service" invoke="crmsfa.addAccountDataSource"/>
		<response name="success" type="request-redirect" value="updateLead">
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="view" value="updateLead"/>
	</request-map>
    <request-map uri="removeAccountDataSource">
		<security https="true" auth="true" />
		<event type="service" invoke="crmsfa.removeAccountDataSource" />
		<response name="success" type="request-redirect" value="updateLead">
			<redirect-parameter name="partyId" />
		</response>
		<response name="error" type="view" value="updateLead" />
	</request-map>
	
	<request-map uri="convertLead">
        <security https="true" auth="true"/>
        <event type="service" invoke="ledportal.convertLead"/>
        <response name="success" type="cross-redirect" value="/account-portal/control/viewAccount">
            <redirect-parameter name="partyId"/>
            <redirect-parameter name="externalLoginKey"/>
        </response>
        <response name="customer" type="cross-redirect" value="/customer-portal/control/viewCustomer">
            <redirect-parameter name="partyId"/>
            <redirect-parameter name="externalLoginKey"/>
        </response>
        <response name="error" type="request-redirect" value="viewLead">
            <redirect-parameter name="partyId"/>
        </response>
    </request-map>
    <request-map uri="viewAccount">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="viewAccount"/>
    </request-map>
    
    <!-- lead [end] -->
    
    <!-- CustomFiled seciton --> 
   	<request-map uri="createUpdateCustom">
   		<security https="true"  auth="true"/>	
		<event type="service-multi" invoke="customfield.createUpdateCustomValueMulti"/>
	    <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
   	<request-map uri="segmentForm">
   	    <security https="true"  auth="true"/>	
		<event type="service-multi" invoke="assignSegmentValuetoParty"/>	
	    <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
   	<request-map uri="removeSegmentValue">
   	    <security https="true"  auth="true"/>	
		<event type="service" invoke="removeSegmentValuetoParty"/>	
	    <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper" />
	</request-map>		
   <!-- CustomFiled seciton End -->
   
   	<!--  Contact Information Start -->
    <request-map uri="createEmailAddress">
        <security https="true" auth="true"/>
        <event type="service" invoke="createPartyEmailAddress"/>
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="createPostalAddress">
        <security https="true" auth="true"/>
        <event type="service" invoke="common.createPartyPostalAddress"/>
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="createTelecomNumber">
        <security https="true" auth="true"/>
        <event type="service" invoke="common.createPartyTNExtForDndValidation"/>
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="createContactMech">
        <security https="true" auth="true"/>
        <event type="service" invoke="createPartyContactMech"/>
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="createSocialMediaTypeWebm">
        <security https="true" auth="true"/>
        <event type="service" invoke="createPartySocialMediaType"/>
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateSocialMediaTypeWebm">
        <security https="true" auth="true"/>
        <event type="service" invoke="updatePartySocialMediaType"/>
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateEmailAddress">
		<security https="true" auth="true" />
		<event type="service" invoke="updatePartyEmailAddress" />
		<response name="success" type="request" value="donePageRequestHelper" />
		<response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
     <request-map uri="updatePostalAddress">
		<security https="true" auth="true" />
		<event type="service" invoke="updatePartyPostalAddress" />
		<response name="success" type="request" value="donePageRequestHelper" />
		<response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
    <request-map uri="updateTelecomNumber">
		<security https="true" auth="true" />
		<event type="service" invoke="common.updatePartyTNExtForDndValidation" />
		<response name="success" type="request" value="donePageRequestHelper" />
		<response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
	<request-map uri="updateContactMech">
		<security https="true" auth="true" />
		<event type="service" invoke="updatePartyContactMech" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
    <request-map uri="deleteContactMech">
        <security https="true" auth="true"/>
        <event type="service" invoke="deletePartyContactMech"/>
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updatePostalAddressData">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updatePostalAddressData" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    
    <!-- added for updating party details with purposes -->
    <request-map uri="updatePostalAddressWithPurpose">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updatePostalAddressWithPurpose" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateTelecomNumberWithPurpose">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updateTelecomNumberWithPurpose" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateEmailWithPurpose">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updateEmailWithPurpose" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateContactMechWithPurpose">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updateContactMechWithPurpose" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <request-map uri="updateSocialMediaTypeWebmWithPurpose">
        <security https="true" auth="true" />
        <event type="service" invoke="common.updateSocialMediaTypeWebmWithPurpose" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    <!-- ended -->
    
    <request-map uri="createPartyContactMechPurpose">
        <security https="true" auth="true"/>
        <event type="service" invoke="createPartyContactMechPurpose"/>
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="deletePartyContactMechPurpose">
        <security https="true" auth="true"/>
        <event type="service" invoke="deletePartyContactMechPurpose"/>
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <!--  Contact Information End -->
	    
    <!-- common features [start] -->
    <request-map uri="logTask">
        <security https="true" auth="true" />
        <event type="service" invoke="crmsfa.logTask" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
	</request-map>
	    
    <request-map uri="createPartyNoteWebm1">
        <security https="true" auth="true" />
        <event type="service" invoke="createPartyNote" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="updatePartyNote">
        <security https="true" auth="true" />
        <event type="java" path="org.groupfio.common.portal.event.AjaxEvents"
            invoke="updatePartyNote" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="personResponsibleParty">
        <security https="true" auth="true" />
        <event type="service" invoke="crmsfa.updatePersonResponsibleFor" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
	
	<!-- common features [end] -->
	    
    <!--  Contact And Party Assoc Start -->
    
    <request-map uri="addContactFromParty">
		<security https="true" auth="true"/>
		<event type="service" invoke="crmsfa.assignContactToLead"/>
		<response name="success" type="request" value="donePageRequestHelper" />
		<response name="error" type="request" value="donePageRequestHelper" />
	</request-map>
    <request-map uri="updateDefaultContact">
        <security https="true" auth="true" />
        <event type="service" invoke="crmsfa.updateDefaultContact" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
    <request-map uri="removeContact">
        <security https="true" auth="true" />
        <event type="service" invoke="crmsfa.removeContact" />
        <response name="success" type="request" value="donePageRequestHelper"/>
        <response name="error" type="request" value="donePageRequestHelper"/>
    </request-map>
	
    <!--  Contact And Party Assoc End -->
    
    <!-- contacts [start] -->
    
    <request-map uri="assignAccount">
        <security https="true" auth="true"/>
        <event type="service" invoke="crmsfa.assignContactToAccount" />
        <response name="success" type="request" value="donePageRequestHelper" />
        <response name="error" type="request" value="donePageRequestHelper" />
    </request-map>
    
    <!-- contacts [end] -->
    
    <!-- common features [end] -->
    
    <!-- Activities [start] -->
    
    <request-map uri="createPhoneCallActivity">
		<security https="true" auth="true" />
		<response name="success" type="view" value="createPhoneCallActivity" />
	</request-map>
	
	<request-map uri="createPhoneCallActivityAction">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.CommonEvents" invoke="eventCreateSrActivity" />
		<response name="success" type="request-redirect" value="viewActivity">
       		 <redirect-parameter name="workEffortId"/>
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
		<response name="error" type="request-redirect" value="createPhoneCallActivity">
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
	</request-map>
	
	<request-map uri="getIASubTypes">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.admin.portal.util.TripletUtil"
			invoke="getIASubTypes" />
		<response name="success" type="none" />
		<response name="error" type="none" />
	</request-map>
	
	<request-map uri="getBusinessUnitName">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sr.portal.event.CommonEvents" invoke="getBusinessUnitName" />
		<response name="success" type="none"/>
		<response name="error" type="none"/>
	</request-map>
	
	<request-map uri="findSRCustomers">
        <security https="false" auth="true" />
        <event type="java" path="org.fio.sr.portal.event.AjaxEvents" invoke="findSRCustomers"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
	<request-map uri="getCustomerForAddServiceRequest">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sr.portal.event.AjaxEvents" invoke="getCustomerInfoForAddServiceRequest" />
		<response name="success" type="none"/>
		<response name="error" type="none"/>
	</request-map>
	
	<request-map uri="createAppointmentActivity">
		<security https="true" auth="true" />
		<response name="success" type="view" value="createAppointmentActivity" />
	</request-map>
	
	<request-map uri="createAppointmentActivityAction">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.CommonEvents" invoke="eventCreateSrActivity" />
		<response name="success" type="request-redirect" value="viewActivity">
       		 <redirect-parameter name="workEffortId"/>
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
		<response name="error" type="request-redirect" value="createAppointmentActivity">
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
	</request-map>
	
	<request-map uri="createTaskActivity">
		<security https="true" auth="true" />
		<response name="success" type="view" value="createTaskActivity" />
	</request-map>
	
	<request-map uri="createTaskActivityAction">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.CommonEvents" invoke="eventCreateSrActivity" />
		<response name="success" type="request-redirect" value="viewActivity">
       		 <redirect-parameter name="workEffortId"/>
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
		<response name="error" type="request-redirect" value="createTaskActivity">
			<redirect-parameter name="partyId" from="cNo"/>
		</response>
	</request-map>
	<request-map uri="addEmail">
		<security https="true" auth="true" />
		<response name="success" type="view" value="addEmail" />
	</request-map>
	<request-map uri="addEmailEvent">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.CommonEvents"
			invoke="eventCreateSrActivity" />
		<response name="success" type="request-redirect" value="viewActivity">
       		 <redirect-parameter name="workEffortId"/>
			<redirect-parameter name="partyId"/>
		</response>
		<response name="error" type="request-redirect" value="addEmail">
			<redirect-parameter name="partyId"/>
			<redirect-parameter name="domainEntityType"/>
			<redirect-parameter name="domainEntityId"/>
		</response>
	</request-map>
	<request-map uri="findTemplates">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="findTemplates"/>
    </request-map>
	<request-map uri="getTemplate">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="getTemplate"/>
    </request-map>
	<request-map uri="loadTemplate">
        <security https="false" auth="true" />
        <event type="java" path="org.fio.sr.portal.event.AjaxEvents" invoke="loadTemplate"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="viewTemplate">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="viewTemplate"/>
    </request-map>
    <request-map uri="getTemplateMasterForEmailJSON">
        <security https="true" auth="true"/>
        <event type="java" path="org.fio.crm.ajax.AjaxEvents" invoke="getTemplateMasterForEmailJSON"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="updateLeadStatus">
      <security https="true" auth="true"/>
      <event type="service" invoke="ledportal.updateLeadStatus"/>
      <response name="success" type="request-redirect" value="viewLead">
        <redirect-parameter name="partyId"/>
      </response>
      <response name="error" type="request-redirect" value="viewLead">
        <redirect-parameter name="partyId"/>
      </response>
    </request-map>
    <request-map uri="leadStatusUpdate">
      <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.AjaxEvents" invoke="leadStatusUpdate"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="getUsers">
        <security https="true" auth="true"/>
        <event type="java" path="org.fio.common.portal.event.AjaxEvents" invoke="getUsers"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
    <request-map uri="LeadDashboardChart">
        <security https="true" auth="true"/>
        <event type="groovy" path="component://lead-portal/webapp/lead-portal/WEB-INF/actions/charts/LeadDashboardChart.groovy"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="viewActivity">
		<security https="true" auth="true" />
		<response name="success" type="view" value="viewActivity" />
	</request-map>
	<request-map uri="getActivityDetails">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.AjaxEvents" invoke="viewSalesActivityDetails" />
		<response name="success" type="request-redirect" value="viewActivity"/>
	</request-map>
	<request-map uri="updateServiceActivityDetails">
		<security https="true" auth="true"/>
	    <event type="java" path="org.fio.sales.portal.event.AjaxEvents" invoke="updateServiceActivityDetails"/>
	    <response name="success" type="request-redirect" value="viewActivity"/>
	    <response name="error" type="request-redirect" value="viewActivity"/>
  	</request-map>
  	<request-map uri="closedServiceActivityDetails">
		<security https="true" auth="true"/>
	    <event type="java" path="org.fio.sales.portal.event.AjaxEvents" invoke="closedServiceActivityDetails"/>
	    <response name="success" type="request-redirect" value="viewActivity"/>
	    <response name="error" type="request-redirect" value="viewActivity"/>
  	</request-map>
  	<request-map uri="getOwnerTeam">
        <security https="true" auth="true" />
		<event type="java" path="org.fio.sales.portal.event.CommonEvents" invoke="getOwnerTeam" />
        <response name="success" type="none" />
        <response name="error" type="none" />
   </request-map>
   <request-map uri="UpdateReasignActivity">
        <security https="true" auth="true" />
        <event type="java" path="org.fio.sales.portal.event.AjaxEvents"   invoke="UpdateReasignActivity" />
        <response name="success" type="request-redirect"  value="viewActivity"/>
        <response name="error" type="view"  value="viewActivity" />
    </request-map>
	<!-- Activities [end] -->
    
    <!-- Service Request [start] -->
    
    <request-map uri="createServiceRequest">
		<security https="true" auth="true" />
		<response name="success" type="view" value="createServiceRequest" />
	</request-map>
	
	<request-map uri="createServiceRequestAction">
 		<event type="java" path="org.fio.sr.portal.event.CommonEvents" invoke="addServiceRequestEvent"/>
  		<response name="success" type="request-redirect" value="viewLead" >
  			 <redirect-parameter name="partyId" from="cNo"/>
  		</response>
   		<response name="error" type="request-redirect" value="createServiceRequest">
   			<redirect-parameter name="partyId" from="cNo"/>
   		</response>
   	</request-map>
	
	<request-map uri="getSrCategory">
        <security https="false" auth="true" />
       <event type="java" path="org.fio.sr.portal.event.AjaxEvents" invoke="getSrCategory"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
    <request-map uri="getSrSubCategory">
        <security https="false" auth="true" />
       <event type="java" path="org.fio.sr.portal.event.AjaxEvents" invoke="getSrSubCategory"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
    <!-- Service Request [end] -->
	<request-map uri="createattachmentData">
        <security https="true" auth="false"/>
        <event type="java" path="org.groupfio.common.portal.event.AjaxEvents" invoke="createAttachmentData"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
	<request-map uri="removeattachmentData">
		<security https="false" auth="true" />
		<event type="java" path="org.groupfio.common.portal.event.AjaxEvents" invoke="removeAttachmentData" />
		<response name="success" type="none" />
		<response name="error" type="none" />
	</request-map>
	<request-map uri="downloadPartyContent">
		<security https="true" auth="true" />
		<event type="java"
			path="org.fio.crm.content.ContentEvents" invoke="downloadPartyContent" />
		<response name="success" type="none" />
		<response name="error" type="view" value="error" />
	</request-map>
	
	<request-map uri="noteDataDetails">
		<security https="true" auth="true" />
		<response name="success" type="view" value="noteDataDetails" />
		<response name="error" type="view" value="noteDataDetails" />
	</request-map>
	<request-map uri="getNoteData">
		<security https="true" auth="true" />
		<event type="java" path="org.fio.sr.portal.event.AjaxEvents"
			invoke="getNoteData" />
		<response name="success" type="none" />
		<response name="error" type="none" />
	</request-map>
	<request-map uri="updateActivity">
        <security https="true" auth="true" />
        <response name="success" type="view"  value="updateActivity"/>
        <response name="error" type="view"  value="updateActivity" />
    </request-map>
    <request-map uri="updateActivityEvent">
        <event type="java" path="org.fio.sr.portal.event.CommonEvents" invoke="updateActivityEvent"/>
        <response name="success" type="request-redirect" value="viewActivity">
         <redirect-parameter name="workEffortId" from="workEffortId"/>
         <redirect-parameter name="partyId"/>
         <redirect-parameter name="domainEntityType" from="domainEntityType"/>
         <redirect-parameter name="domainEntityId" from="domainEntityId"/>
         </response>
        <response name="error" type="request-redirect" value="viewActivity" >
        <redirect-parameter name="workEffortId" from="workEffortId"/>
        <redirect-parameter name="partyId" from="partyId"/>
         <redirect-parameter name="domainEntityType" from="domainEntityType"/>
         <redirect-parameter name="domainEntityId" from="domainEntityId"/>
        </response>
    </request-map>
    <request-map uri="findLeadNew">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="findLeadNew"/>
    </request-map>
	<request-map uri="findLeads">
        <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.AjaxEvents" invoke="findLeads"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
      <request-map uri="sampleCharts">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="sampleCharts"/>
    </request-map>
     <request-map uri="leadDashboard">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="leadDashboard"/>
    </request-map>
    
    <!-- Lead History [start] -->
    
    <request-map uri="searchLeadHistorys">
        <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.HistoryEvents" invoke="searchLeadHistorys"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    <request-map uri="getLeadEventHistory">
        <security https="true" auth="true"/>
        <event type="java" path="org.groupfio.lead.portal.event.HistoryEvents" invoke="getLeadEventHistory"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>
    
   	<!-- Lead History [end] --> 
    
    
    <!-- View Mappings -->
    <view-map name="main" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#leadDashboard"/>
    <view-map name="HomeLead" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#HomeLead"/>
    <!-- Lead [start] -->
    
    <view-map name="findLead" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#FindLead"/>
    <view-map name="viewLead" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#ViewLead"/>
    <view-map name="createLead" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#CreateLead"/>
    <view-map name="updateLead" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#UpdateLead"/>
    <view-map name="mergeLeadForm" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#mergeLeadForm"/>
    <view-map name="sampleCharts" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#sampleCharts"/>
    <view-map name="leadDashboard" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#leadDashboard"/>
    <!-- Lead [end] -->
    
    <!-- Activities [start] -->
    
    <view-map name="createPhoneCallActivity" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#CreatePhoneCallActivity"/>
    <view-map name="createAppointmentActivity" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#CreateAppointmentActivity"/>
    <view-map name="createTaskActivity" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#CreateTaskActivity"/>
    <view-map name="addEmail" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#addEmail" />
    <view-map name="viewTemplate" type="screen" page="component://campaign/webapp/widget/campaign/screens/template/TemplateScreens.xml#viewTemplate"/>
    <view-map name="viewActivity" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#ViewActivity"/>
    <view-map name="updateActivity" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#updateActivity"/>
    <!-- Activities [end] -->
    
    <!-- Service Request [start] -->
    
    <view-map name="createServiceRequest" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#CreateServiceRequest"/>
    
    <!-- Service Request [end] -->
    <!-- <view-map name="noteDataDetails" type="screen" page="component://common-portal/widget/common/CommonScreens.xml#noteDataDetails"/> -->
    <view-map name="noteDataDetails" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#NoteDataDetails"/>
	<view-map name="viewAccount" type="screen" page="component://account-portal/widget/account/AccountScreens.xml#ViewAccount"/>
	<view-map name="findLeadNew" type="screen" page="component://lead-portal/widget/lead/LeadScreens.xml#FindLeadNew"/>
	<view-map name="findTemplates" type="screen" page="component://campaign/webapp/widget/campaign/screens/template/TemplateScreens.xml#FindTemplate"/>
    <view-map name="getTemplate" type="screen" page="component://campaign/webapp/widget/campaign/screens/template/TemplateScreens.xml#getTemplate"/>
	    
</site-conf>