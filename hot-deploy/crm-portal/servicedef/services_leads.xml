<?xml version="1.0" encoding="UTF-8" ?>

<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/services.xsd">
    <description>CRM SFA Leads Services</description>
    <vendor>Open Source Strategies, Inc.</vendor>
    <version>0.8</version>

    <!-- note that our services are prefixed with "crmsfa." to easily distinguish them from other services; perhaps a namespace system would be useful here -->

    <service name="crmsfa.leadInterface" engine="interface" location="" invoke="">
        <!-- Party and Person fields (Person) -->
        <attribute name="firstName" type="String" mode="IN" optional="false"/>
        <attribute name="lastName" type="String" mode="IN" optional="false"/>
        <attribute name="firstNameLocal" type="String" mode="IN" optional="true"/>
        <attribute name="lastNameLocal" type="String" mode="IN" optional="true"/>
        <attribute name="personalTitle" type="String" mode="IN" optional="true"/>
        <attribute name="birthDate" type="java.sql.Date" mode="IN" optional="true"/>
        <attribute name="statusId" type="String" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="callBackDate" type="java.sql.Date" mode="IN" optional="true"/>
        <!-- PartySupplementalData fields -->
        <attribute name="companyName" type="String" mode="IN" optional="false"/>
        <attribute name="parentPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="generalProfTitle" type="String" mode="IN" optional="true"/>
        <attribute name="departmentName" type="String" mode="IN" optional="true"/>
        <attribute name="annualRevenue" type="java.math.BigDecimal" mode="IN" optional="true"/>
        <attribute name="currencyUomId" type="String" mode="IN" optional="true"/> <!-- re-used as preferredCurrencyUomId for Person -->
        <attribute name="numberEmployees" type="Long" mode="IN" optional="true"/>
        <attribute name="industryEnumId" type="String" mode="IN" optional="true"/>
        <attribute name="ownershipEnumId" type="String" mode="IN" optional="true"/>
        <attribute name="sicCode" type="String" mode="IN" optional="true"/>
        <attribute name="tickerSymbol" type="String" mode="IN" optional="true"/>
        <attribute name="importantNote" type="String" mode="IN" optional="true"/>
        <attribute name="partyClassificationGroupId" type="String" mode="IN" optional="true"/>
        <attribute name="personResponsible" type="String" mode="IN" optional="true"/>
        
    </service>

    <service name="crmsfa.createLead" engine="java" location="org.fio.crm.leads.LeadsServices" invoke="createLead">
        <description>Creates an Lead, which is a combination of Party, Person, PartyGroup, and PartySupplementalData.
            Leads can be created by anyone with CRMSFA_LEAD_CREATE permission.</description>
        <implements service="crmsfa.leadInterface"/>
        <implements service="crmsfa.createBasicContactInfoForParty"/> 
        <attribute name="partyId" type="String" mode="OUT" optional="false"/>
        <attribute name="duplicatingPartyId" type="String" mode="IN" optional="true"/> <!-- if created from the duplciate lead form -->
        <attribute name="dataSourceId" type="String" mode="IN" optional="true"/> <!-- initial data source -->
        <attribute name="marketingCampaignId" type="String" mode="IN" optional="true"/> <!-- initial marketing campaign -->
        <attribute name="notifyOwner" mode="IN" type="String" optional="true" default-value="Y"/>
        <attribute name="timeZoneDesc" type="String" mode="IN" optional="true"/>
        <attribute name="personResponsible" type="String" mode="IN" optional="true"/>
        <attribute name="partyClassificationGroupId" type="String" mode="IN" optional="true"/>
        
    </service>

    <service name="crmsfa.updateLead" engine="java" location="org.fio.crm.leads.LeadsServices" invoke="updateLead">
        <description>Updates a Lead. The userLogin must have CRMSFA_LEAD_UPDATE permission on this partyId</description>
        <implements service="crmsfa.leadInterface"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
         <attribute name="timeZoneDesc" type="String" mode="IN" optional="true"/>
         <attribute name="personResponsible" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="crmsfa.updateLeadContactStatus" engine="java" location="org.fio.crm.leads.LeadsServices" invoke="updateLeadContactStatus">
        <description>Update Lead Contact History Status</description>
        <attribute name="leadPartyId" type="String" mode="IN" optional="false"/>
        <attribute name="leadContactStatusId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="OUT" optional="false"/>
    </service>
    
    <service name="crmsfa.deleteLead" engine="java"
        location="org.fio.crm.leads.LeadsServices" invoke="deleteLead" auth="true">
        <description>Deletes an unconverted lead and all its associated Party data. Requires CRMSFA_LEAD_DELETE permission.</description>
        <attribute name="leadPartyId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="crmsfa.convertLead" engine="java" location="org.fio.crm.leads.LeadsServices" invoke="convertLead">
        <description>Converts a Lead into an Account and a Contact.</description>
        <attribute name="leadPartyId" type="String" mode="IN" optional="false"/>
        <attribute name="accountPartyId" type="String" mode="INOUT" optional="true"/>
        <!-- the output partyId is whichever one is needed on the display form you route it to next.  in our case,
            since the controller routes it to viewContact, we make it the lead/cotactPartyId -->
        <attribute name="partyId" type="String" mode="OUT" optional="false"/>
    </service>
    
    <service name="crmsfa.addLeadDataSource" engine="java" location="org.fio.crm.common.DataSourceServices" invoke="addLeadDataSource">
        <description>Adds a DataSource to the Lead. The userLogin is required to have CRMSFA_LEAD_UPDATE permission on this lead.</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="dataSourceId" type="String" mode="IN" optional="false"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
    </service>
    
    <service name="crmsfa.removeLeadDataSource" engine="java" location="org.fio.crm.common.DataSourceServices" invoke="removeLeadDataSource">
        <description>Removes a DataSource from the Lead. The userLogin is required to have CRMSFA_LEAD_UPDATE permission on this lead.</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="dataSourceId" type="String" mode="IN" optional="false"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="false"/>
    </service>
    
    <service name="crmsfa.addLeadMarketingCampaign" engine="java" location="org.fio.crm.marketing.MarketingCampaignServices" invoke="addLeadMarketingCampaign">
        <description>Adds a MarketingCampaign to the Lead. The userLogin is required to have CRMSFA_LEAD_UPDATE permission on this lead.</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="marketingCampaignId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="crmsfa.removeLeadMarketingCampaign" engine="java" location="org.fio.crm.marketing.MarketingCampaignServices" invoke="removeLeadMarketingCampaign">
        <description>Removes a MarketingCampaign from the Lead. The userLogin is required to have CRMSFA_LEAD_UPDATE permission on this lead.</description>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="marketingCampaignId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="crmsfa.updateDataImpLead" engine="java" use-transaction="true" auth="true"
             location="org.fio.crm.leads.LeadsServices" invoke="updateDataImpLead" transaction-timeout="20000">
       	<description> Update Data import lead </description>
       
       	<attribute name="firstName" type="String" mode="IN" optional="true"/>
       	<attribute name="lastName" type="String" mode="IN" optional="true"/>
       	<attribute name="address1" type="String" mode="IN" optional="true"/>
       	<attribute name="primaryPhoneCountryCode" type="String" mode="IN" optional="true"/>
       	<attribute name="primaryPhoneNumber" type="String" mode="IN" optional="true"/>
       	<attribute name="secondaryPhoneCountryCode" type="String" mode="IN" optional="true"/>
       	<attribute name="secondaryPhoneNumber" type="String" mode="IN" optional="true"/>
       	<attribute name="attnName" type="String" mode="IN" optional="true"/>
       	<attribute name="address2" type="String" mode="IN" optional="true"/>
       	<attribute name="emailAddress" type="String" mode="IN" optional="true"/>
       	<attribute name="webAddress" type="String" mode="IN" optional="true"/>
       	<attribute name="note" type="String" mode="IN" optional="true"/>
       	<attribute name="city" type="String" mode="IN" optional="true"/>
       	<attribute name="stateProvinceGeoId" type="String" mode="IN" optional="true"/>
       	
       	<attribute name="companyName" type="String" mode="IN" optional="false"/>
       	<attribute name="parentCoDetails" type="String" mode="IN" optional="true"/>
       	<attribute name="salesTurnover" type="java.math.BigDecimal" mode="IN" optional="true"/>
       	<attribute name="dateOfIncorporation" type="String" mode="IN" optional="true"/>
       	<attribute name="constitution" type="String" mode="IN" optional="true"/>
       	<attribute name="industryCat" type="String" mode="IN" optional="true"/>
       	<attribute name="industry" type="String" mode="IN" optional="true"/>
       	<attribute name="customerTradingType" type="String" mode="IN" optional="true"/>
       	<attribute name="tallyUserType" type="String" mode="IN" optional="true"/>
       	<attribute name="tcpName" type="String" mode="IN" optional="true"/>
       	<attribute name="keyContactPerson1" type="String" mode="IN" optional="true"/>
       	<attribute name="keyContactPerson2" type="String" mode="IN" optional="true"/>
       	<attribute name="permanentAcccountNumber" type="String" mode="IN" optional="true"/>
       	<attribute name="businessRegNo" type="String" mode="IN" optional="true"/>
       	<attribute name="otherBankName" type="String" mode="IN" optional="true"/>
       	<attribute name="otherBankBalance" type="java.math.BigDecimal" mode="IN" optional="true"/>
       	<attribute name="productsHeldInOthBank" type="String" mode="IN" optional="true"/>
       	<attribute name="productsValueInOthBank" type="java.math.BigDecimal" mode="IN" optional="true"/>
       	<attribute name="paidupCapital" type="java.math.BigDecimal" mode="IN" optional="true"/>
       	<attribute name="authorisedCap" type="java.math.BigDecimal" mode="IN" optional="true"/>
       	<attribute name="leadAssignTo" type="String" mode="IN" optional="true"/>
       	<attribute name="leadAssignBy" type="String" mode="IN" optional="true"/>
       	<attribute name="segment" type="String" mode="IN" optional="true"/>
       	<attribute name="liabOrAsset" type="String" mode="IN" optional="true"/>
       	<attribute name="teleCallingStatus" type="String" mode="IN" optional="true"/>
       	<attribute name="teleCallingSubStatus" type="String" mode="IN" optional="true"/>
       	<attribute name="teleCallingRemarks" type="String" mode="IN" optional="true"/>
       	<attribute name="rmCallingStatus" type="String" mode="IN" optional="true"/>
       	<attribute name="rmCallingSubStatus" type="String" mode="IN" optional="true"/>
       	<attribute name="rmCallingRemarks" type="String" mode="IN" optional="true"/>
       	<attribute name="title" type="String" mode="IN" optional="true"/>
       	<attribute name="noOfAttempt" type="Long" mode="IN" optional="true"/>
       	<attribute name="postalCode" type="String" mode="IN" optional="true"/>
       	
       	<attribute name="actionType" type="String" mode="IN" optional="true"/>
       	<attribute name="source" type="String" mode="IN" optional="true"/>
       	<attribute name="backUrl" type="String" mode="INOUT" optional="true"/>
       	
       	<attribute name="finacleId" type="Long" mode="IN" optional="true"/>
       	<attribute name="placeOfIncorporation" type="String" mode="IN" optional="true"/>
       	<attribute name="noOfEmployees" type="Long" mode="IN" optional="true"/>
       	<attribute name="jobFamily" type="String" mode="IN" optional="true"/>
       	<attribute name="source" type="String" mode="IN" optional="true"/>
       	<attribute name="designation" type="String" mode="IN" optional="true"/>
		       	
       	<attribute name="leadId" type="String" mode="INOUT" optional="true"/>
       	<attribute name="partyId" type="String" mode="INOUT" optional="true"/>
       	<attribute name="leadShortForm" type="String" mode="IN" optional="true"/>
        <attribute name="leadShortFromMobile" type="String" mode="IN" optional="true"/>
        
        <attribute name="isNotDuplicate" type="String" mode="IN" optional="true"/>
        <attribute name="leadScore" type="String" mode="IN" optional="true"/>
        <attribute name="virtualTeamId" type="String" mode="IN" optional="true"/>
        <attribute name="leadShortFromDesktop" type="String" mode="IN" optional="true"/>
		       	
    </service>
    
    <service name="crmsfa.importLeads" engine="java" use-transaction="true" auth="true"
             location="org.fio.crm.leads.LeadsServices" invoke="importLeads">
       	<description> import lead data </description>
       
       	<attribute type="List" mode="IN" name="importDatas" optional="false"/>
       	
       	<attribute name="isTeleCallStatusChange" type="Boolean" mode="IN" optional="true"/>
       	<attribute name="isRmCallStatusChange" type="Boolean" mode="IN" optional="true"/>
       	<attribute name="employeePositionType" type="String" mode="IN" optional="true"/>
       	<attribute name="batchId" type="String" mode="IN" optional="true"/>
       	
       	<attribute type="Integer" mode="OUT" name="importedRecords" optional="true"/>
       	<attribute type="List" mode="OUT" name="importedDataList" optional="true"/>
		       	
    </service>
    
    <service name="crmsfa.disableLead" engine="java"
            location="org.fio.crm.leads.LeadsServices" invoke="disableLead" auth="true">
        <description></description>
        <permission-service service-name="partyStatusPermissionCheck" main-action="UPDATE"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="disableReason" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="OUT" optional="false"/>
    </service>
    
</services>

