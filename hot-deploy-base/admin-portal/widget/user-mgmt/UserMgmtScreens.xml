<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="UserLoginHistory">
		<section>
			<actions>
				<set field="titleProperty" value="ViewLoginAndSessionHistory"
					global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/ViewUserLoginHistoryDetail.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/userLoginHistory.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ViewUserLoginHistoryDetail">
		<section>
			<actions>
				<set field="titleProperty" value="VisitDetails" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/ViewUserLoginHistoryDetail.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/viewUserLoginHistoryDetail.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="FindUser">
		<section>
			<actions>
				<set field="titleProperty" value="FindUsersAndRoles" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/findUser.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/findUsers.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="CreateUser">
		<section>
			<actions>
				<set field="titleProperty" value="CreateUser" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/CreateUser.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/createUser.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ViewUserDetail">
		<section>
			<actions>
				<set field="titleProperty" value="ViewUserManagement" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/UserDetails.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/viewUserDetails.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="createGlobalMsg">
		<section>
			<actions>
				<set field="titleProperty" value="Create Global Message" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/globalMessageDetails.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/createGlobalMsg.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="updateGlobalMsg">
		<section>
			<actions>
				<set field="titleProperty" value="Find Global Message" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/globalMessageDetails.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/globalMsgConfigDetails.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="globalMessageUpdateDetails">
		<section>
			<actions>
				<set field="titleProperty" value="Create Global Message" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/globalMessageDetails.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/globalMessageUpdateDetails.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ResetPassword">
		<section>
			<actions>
				<set field="titleProperty" value="Reset Password" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="LoginDecorator">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/resetPassword.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ChangePassword">
		<section>
			<actions>
				<set field="titleProperty" value="Change Password" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="LoginDecorator">
					<decorator-section name="top-content">
						<platform-specific>
							<!-- <html><html-template location="component://admin-portal/webapp/admin-portal/user-mgmt/changePassword.ftl"/></html> -->
							<html>
								<html-template
									location="component://account-portal/webapp/account-portal/common/changePassword.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="LoginDecorator">
		<section>
			<actions>
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="layoutSettings.shortcutIcon" value="/bootstrap/images/favicon.ico"
					global="true" />

				<set field="initialLocale" type="String"
					value="${groovy:parameters?.userLogin?.lastLocale?.substring(0,2)}"
					default-value="${groovy:locale?.toString()?.substring(0,2)?:'en'}" />
				<set field="visualThemeId" type="String" value="${groovy:org.fio.homeapps.util.DataUtil.getGlobalValue(delegator, 'DEFAULT_THEME_ID', 'BOOTSTRAP')}" default-value="BOOTSTRAP"/>
				<service service-name="getVisualThemeResources">
					<field-map field-name="visualThemeId" />
					<field-map field-name="themeResources" from-field="layoutSettings" />
				</service>
				<set field="layoutSettings" from-field="themeResources"
					default-value="${layoutSettings}" global="true" />
				<set field="headerTemplateLocation" from-field="layoutSettings.VT_LGIN_HDR_TMPLT_LOC[0]"
					default-value="component://tomahawk/includes/header.ftl" global="true" />
				<set field="footerTemplateLocation" from-field="layoutSettings.VT_LGIN_FTR_TMPLT_LOC[0]"
					default-value="component://tomahawk/includes/footer.ftl" global="true" />
				<set field="mainTemplateLocation" from-field="layoutSettings.VT_LGIN_MAIN_TMPLT_LOC[0]"
					default-value="component://bootstrap/includes/login.ftl" global="true" />
				<set field="messagesTemplateLocation" from-field="layoutSettings.VT_MSG_TMPLT_LOC[0]"
					default-value="component://bootstrap/includes/messages.ftl" global="true" />
				<!-- <script location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/includes/main-decorator.groovy" 
					/> -->
				<set field="logoTemplateLocation" from-field="layoutSettings.VT_LOGO_LOC[0]" 
					default-value="component://bootstrap/includes/logo.ftl" global="true"/>
				<set field="iconTemplateLocation" from-field="layoutSettings.VT_ICON_LOC[0]" 
					default-value="component://bootstrap/includes/icon.ftl" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="LoginLayoutSetup">
					<decorator-section name="theme-header-content">
						<platform-specific>
							<html>
								<html-template location="${headerTemplateLocation}" />
							</html>
						</platform-specific>
					</decorator-section>

					<decorator-section name="message-content">
						<platform-specific>
							<html>
								<html-template location="${messagesTemplateLocation}" />
							</html>
						</platform-specific>
					</decorator-section>

					<decorator-section name="top-content">
						<decorator-section-include name="top-content" />
					</decorator-section>

					<decorator-section name="theme-footer-content">
						<platform-specific>
							<html>
								<html-template location="${footerTemplateLocation}" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="LoginLayoutSetup">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/global/LoginLayout.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="CreateTechnicianRate">
		<section>
			<actions>
				<set field="titleProperty" value="Techinican Rate Config"
					global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/CreateUser.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/createTechnicianRate.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
					<!-- <decorator-section name="bottom-content"> <include-screen name="ListTechnicianRates"/> 
						</decorator-section> -->
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ViewTechnicianRate">
		<section>
			<actions>
				<set field="titleProperty" value="ViewTechnicianRate" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/ViewTechniciansRate.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/viewTechnicianRate.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="UpdateTechnicianRate">
		<section>
			<actions>
				<set field="titleProperty" value="UpdateTechnicianRate" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
				<script
					location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/user-mgmt/ViewTechniciansRate.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/updateTechnicianRate.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ListTechnicianRates">
		<section>
			<actions>
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/listTechnicianRates.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="FindTechnicianRate">
		<section>
			<actions>
				<set field="titleProperty" value="Find Technician Rate" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />

			</actions>
			<widgets>
				<decorator-screen name="main-decorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/user-mgmt/findTechnicianRate.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
					<decorator-section name="bottom-content">
						<include-screen name="ListTechnicianRates" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ChangeUserPassword">
		<section>
			<actions>
				<set field="titleProperty" value="Change User Password" global="true" />
				<set field="sectionName" value="admin-portal" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="LoginDecorator">
					<decorator-section name="top-content">
						<platform-specific>

							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/global/changePassword.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="forgotPassword_step1">
		<section>
		    <actions>
        		<set field="logoTemplateLocation" from-field="layoutSettings.VT_LOGO_LOC[0]" default-value="component://bootstrap/includes/logo.ftl" global="true"/>
				<set field="iconTemplateLocation" from-field="layoutSettings.VT_ICON_LOC[0]" default-value="component://bootstrap/includes/icon.ftl" global="true"/>
        	</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/includes/login/forgotPassword.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="forgotPassword_step2">
		<section>
			<actions>
				<set field="userLoginId" from-field="parameters.USERNAME" />
				<entity-and entity-name="UserLoginSecurityQuestion" list="securityQuestions">
					<field-map field-name="userLoginId" />
				</entity-and>
				<set field="questionEnumId" from-field="securityQuestions[0].questionEnumId" />
				<entity-one entity-name="Enumeration" value-field="securityQuestion">
					<field-map field-name="enumId" from-field="questionEnumId" />
				</entity-one>
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://common/webcommon/getSecurityQuestion.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="forgotPassword">
		<section>
			<actions>
				<set field="titleProperty" value="Forgot Password" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
        		<set field="logoTemplateLocation" from-field="layoutSettings.VT_LOGO_LOC[0]" default-value="component://bootstrap/includes/logo.ftl" global="true"/>
				<set field="iconTemplateLocation" from-field="layoutSettings.VT_ICON_LOC[0]" default-value="component://bootstrap/includes/icon.ftl" global="true"/>
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/includes/login/forgotPassword.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="requirePasswordChange">
		<section>
			<actions>
				<set field="userLoginId" from-field="parameters.USERNAME" />
			</actions>
			<widgets>
				<decorator-screen name="LoginDecorator">
					<decorator-section name="top-content">
						<platform-specific>
							<html>
								<html-template
									location="component://admin-portal/webapp/admin-portal/includes/login/changePassword.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="PasswordEmail">
		<section>
			<actions>
				<property-map resource="EmailPassword" map-name="uiLabelMap"
					global="true" />
				<property-map resource="SecurityUiLabels" map-name="uiLabelMap"
					global="true" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/includes/login/passwordemail.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="TempPasswordEmail">
		<section>
			<actions>
				<property-map resource="EmailPassword" map-name="uiLabelMap"
					global="true" />
				<property-map resource="SecurityUiLabels" map-name="uiLabelMap"
					global="true" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/email/temp_password.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="NexItTempPasswordEmail">
		<section>
			<actions>
				<property-map resource="SecurityUiLabels" map-name="uiLabelMap"
					global="true" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/email/nexit_temp_password.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="NexItAppQREmail">
		<section>
			<actions>
				<property-map resource="SecurityUiLabels" map-name="uiLabelMap"
					global="true" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/email/nexit_app_template.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserDetails">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userDetails.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserContactInfo">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userContactInfo.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserTeams">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userTeams.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserRoles">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userRoles.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserSecurity">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userSecurity.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="EditUserDetails">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/editUserDetails.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="UserPhotoUpload">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/user-mgmt/userPhotoUpload.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
	<screen name="NotificationCenter">
		<section>
			<actions>
				<script location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/notification/NotificationCenter.groovy" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/notification/notificationCenter.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
	<screen name="MessengerSetup">
		<section>
			<actions>
				<script location="component://admin-portal/webapp/admin-portal/WEB-INF/actions/messenger/MessengerSetup.groovy" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://admin-portal/webapp/admin-portal/messenger/messenger_setup.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
</screens>